<!DOCTYPE html>
<html>
<head>
  <title>Product</title>
  <style>
    body {
      font-family: Arial;
      background:#f5f5f5;
      color:black;
      padding:30px;
    }

    .box {
      background:white;
      padding:20px;
      max-width:420px;
      margin:auto;
      border-radius:10px;
      text-align:center;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
      animation: fadeIn 0.8s ease;
    }

    img {
      width:100%;
      transition: transform 0.4s ease, opacity 0.4s ease;
    }

    img.animate {
      transform: scale(1.08);
      opacity: 0;
    }

    .colors button {
      width:28px;
      height:28px;
      border-radius:50%;
      border:none;
      margin:6px;
      cursor:pointer;
      transition: transform 0.3s;
    }

    .colors button:hover {
      transform: scale(1.3);
    }

    .arrow {
      font-size:24px;
      cursor:pointer;
      margin:10px;
      display:inline-block;
      transition: transform 0.3s;
    }

    .arrow:hover {
      transform: translateX(6px);
    }

    .add {
      background:black;
      color:white;
      padding:10px 20px;
      border:none;
      border-radius:6px;
      cursor:pointer;
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .add:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 15px rgba(0,0,0,0.2);
    }

    @keyframes fadeIn {
      from { opacity:0; transform: translateY(20px); }
      to { opacity:1; transform: translateY(0); }
    }
  </style>
</head>
<body>

<div class="box">
  <h2 id="clothName">Summer Dress</h2>

  <img id="clothImg" src="dress-black.jpg">

  <div>
    <span class="arrow" onclick="prev()">⬅</span>
    <span class="arrow" onclick="next()">➡</span>
  </div>

  <p>Choose color:</p>
  <div class="colors">
    <button style="background:black" onclick="changeColor(0)"></button>
    <button style="background:red" onclick="changeColor(1)"></button>
    <button style="background:blue" onclick="changeColor(2)"></button>
  </div>

  <p><b>Price:</b> $35</p>
  <button class="add" onclick="addToCart()">Add to Cart</button>
</div>

<script>
  const images = [
    "dress-black.jpg",
    "dress-red.jpg",
    "dress-blue.jpg"
  ];

  const colors = ["Black", "Red", "Blue"];
  let index = 0;
  const img = document.getElementById("clothImg");
  const clothNameEl = document.getElementById("clothName");

  function animateChange() {
    img.classList.add("animate");
    setTimeout(() => {
      img.src = images[index];
      clothNameEl.textContent = `Summer Dress - ${colors[index]}`;
      img.classList.remove("animate");
    }, 300);
  }

  function changeColor(i) {
    index = i;
    animateChange();
  }

  function next() {
    index = (index + 1) % images.length;
    animateChange();
  }

  function prev() {
    index = (index - 1 + images.length) % images.length;
    animateChange();
  }

  // ----------------------
  // Add to Cart function
  function addToCart() {
    const clothName = `Summer Dress - ${colors[index]}`;
    const clothImage = images[index];
    const clothPrice = 35;

    // Pass data via URL to cart.html
    const url = `cart.html?name=${encodeURIComponent(clothName)}&image=${encodeURIComponent(clothImage)}&price=${encodeURIComponent(clothPrice)}`;
    window.location.href = url;
  }
</script>

</body>
</html>
